---
import type { CollectionEntry } from 'astro:content';
import SessionMeta from './SessionMeta.astro';

interface Props {
  session: CollectionEntry<'sessions'>;
}

const { session } = Astro.props;
const { title, speaker, affiliation } = session.data;
---

<article class="session-card">
  <a href={`/sessions/${session.slug}`} class="card-link">
    <h3 class="title">{title}</h3>
  </a>
  <div class="speaker-info">
    <span class="speaker">{speaker}</span>
    {affiliation && <span class="affiliation">({affiliation})</span>}
  </div>
  
  <SessionMeta session={session} />
  
  <p class="excerpt">
    {session.body.slice(0, 150)}...
    <a href={`/sessions/${session.slug}`} class="read-more">Read more</a>
  </p>
</article>

<style>
  .session-card {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px dashed var(--text-color);
  }

  .card-link {
    text-decoration: none;
    border: none;
  }

  .title {
    margin-bottom: 0.2rem;
    color: var(--accent-color);
    font-size: 1.5rem;
  }

  .speaker-info {
    font-family: var(--font-heading);
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
    color: var(--text-color);
  }

  .excerpt {
    margin-top: 0.5rem;
    font-size: 0.95rem;
    line-height: 1.6;
  }

  .read-more {
    font-size: 0.85rem;
    font-weight: bold;
    margin-left: 0.5rem;
    white-space: nowrap;
  }
</style>
